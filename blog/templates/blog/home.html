{% extends 'blog/base.html'%}
{% block content %}
{% load static %}
<div class="container" style="border:1px LightGrey;">
    <div class="row">
{% for post in recently_added %}
        <div class="col-6">
 <a class="img-thumbnail mr" > <img class="img-thumbnail"  src="{{post.image.url}}" width="600"></a>
        </div>
        <div class="col-6">
 <img class="rounded article-img" src="{{post.author.profile.image.url}}" width="70">
 <a class="mr-2 text-dark" href="{% url 'user-posts' post.author.username %}">{{post.author}}
                       <small class="text-muted">{{post.date_posted|date:"F d,Y"}}</small></a>
 <b><p style="font-size:23px" class="w-100 article-title"> <a class="text-dark" href="{% url 'post-detail' post.slug %}">{{post.title}}</a></p></b>
             <p class="w-400 article-content ml-2">{{post.content | safe|truncatewords:50}}<a class="btn btn-outline-info ml-2" href="{% url 'post-detail' post.slug%}">read more</a> </p>

            </div>

{% endfor %}
    </div>
    </div>
<br>



<div class="container ml-2"  >
  <div class="row">
     <div class="col-6">
<!--<h1>Top Trend</h1>-->
       {% for post in top_rated %}

               <div class="bg-light">
                   <div class="row">

    <article class="media content-section" xmlns="http://www.w3.org/1999/html">
     <div class="col-2">
    <img class="rounded article-img" src="{{post.author.profile.image.url}}" width="70">

     </div>
</article>
<!--    <div class="row ">-->
           <div class="media-body col-6">
               <div class="article-metadata">
                       <a class="mr-2 text-dark" href="{% url 'user-posts' post.author.username %}">{{post.author}}
                       <small class="text-muted">{{post.date_posted|date:"F d,Y"}}</small></a>
                        <b><p style="font-size:23px" class="w-100 article-title"> <a class="text-dark" href="{% url 'post-detail' post.slug %}">{{post.title}}</a></p></b>
<!--                   <p class="w-400 article-content ml-2">{{post.content | safe|truncatewords:50}}<a class="btn btn-outline-info ml-2" href="{% url 'post-detail' post.slug%}">read more</a> </p>-->

<!--                       {% for tag in tags %}-->
<!--                         <button class="btn btn-info"><a class="text-dark text-unstyled" href="{% url 'tagged' tag.slug%}">{{tag.name}}</a></button>-->
<!--                       {% endfor %}-->

                </div>
           </div>
           <div class="col-3">
                   <a class="img-thumbnail mr" > <img class="img-thumbnail"  src="{{post.image.url}}"></a>
           </div>






    </div>
    </div>

<br>
{% endfor %}</div>
             



<div class="col-6">
<!--    <h1>most popular</h1>-->
{% for post in most_popular %}

      <div class="bg-light">
<!--<div class="container">-->
    <div class="row">

    <article class="media content-section" xmlns="http://www.w3.org/1999/html">
     <div class="col-2">
    <img class="rounded article-img" src="{{post.author.profile.image.url}}" width="70">

     </div>
</article>
<!--    <div class="row ">-->
           <div class="media-body col-6">
               <div class="article-metadata">
                       <a class="mr-2 text-dark" href="{% url 'user-posts' post.author.username %}">{{post.author}}
                       <small class="text-muted">{{post.date_posted|date:"F d,Y"}}</small></a>
                        <b><p style="font-size:20px" class="w-100 article-title"> <a class="text-dark" href="{% url 'post-detail' post.slug %}">{{post.title}}</a></p></b>
<!--                   <p class="w-400 article-content ml-2">{{post.content | safe|truncatewords:50}}<a class="btn btn-outline-info ml-2" href="{% url 'post-detail' post.slug%}">read more</a> </p>-->

<!--                       {% for tag in tags %}-->
<!--                         <button class="btn btn-info"><a class="text-dark text-unstyled" href="{% url 'tagged' tag.slug%}">{{tag.name}}</a></button>-->
<!--                       {% endfor %}-->

                </div>
           </div>
           <div class="col-3">
                   <a class="img-thumbnail mr" > <img class="img-thumbnail"  src="{{post.image.url}}" ></a>
           </div>






    </div>
    </div>
<br>
      {% endfor %}
          </div>

    </div>
</div>

<br>



{% for post in posts %}

<div class="bg-light">
<div class="container">
    <div class="row">
        <div class="col-2">
<article class="media content-section" xmlns="http://www.w3.org/1999/html">
    <img class="rounded article-img" src="{{post.author.profile.image.url}}">
     </div>
<!--    <div class="row ">-->
           <div class="media-body col-7">
               <div class="article-metadata">
                       <a class="mr-2 text-dark" href="{% url 'user-posts' post.author.username %}">{{post.author}}
                       <small class="text-muted">{{post.date_posted|date:"F d,Y"}}</small></a>
                        <b><p style="font-size:30px" class="w-100 article-title"> <a class="text-dark" href="{% url 'post-detail' post.slug %}">{{post.title}}</a></p></b>
                   <p class="w-400 article-content ml-2">{{post.content | safe|truncatewords:50}}<a class="btn btn-outline-info ml-2" href="{% url 'post-detail' post.slug%}">read more</a> </p>

<!--                       {% for tag in tags %}-->
<!--                         <button class="btn btn-info"><a class="text-dark text-unstyled" href="{% url 'tagged' tag.slug%}">{{tag.name}}</a></button>-->
<!--                       {% endfor %}-->

                </div>
           </div>
           <div class="col-3">
                   <a class="img-thumbnail mr" > <img class="img-thumbnail"  src="{{post.image.url}}"></a>
           </div>



    </div>
</div>
</article>
<br>
   {% endfor %}

      {% if page_obj.has_previous %}
        <a class="btn btn-outline-info mb-4"  href="?page=1">first</a>
        <a class="btn btn-outline-info mb-4"  href="?page={{ page_obj.previous_page_number }}">previous</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
          {% if page_obj.number == num %}
            <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
          {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
             <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
          {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a class="btn btn-outline-info mb-4"  href="?page={{page_obj.next_page_number}}">next</a>
        <a class="btn btn-outline-info mb-4"  href="?page={{ page_obj.paginator.num_pages }}">last</a>
      {% endif %}










</div>
{% endblock %}